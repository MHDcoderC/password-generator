@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tailwind-first styling using @layer and @apply. Only minimal raw CSS for keyframes/pseudo-elements. */

@layer base {
  html, body { @apply h-full overflow-hidden bg-slate-900 flex flex-col items-center justify-center; }
  body { font-family: 'Vazirmatn', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif; }

  /* Loader */
  .loader { @apply fixed inset-0 text-slate-200 z-[2000] flex flex-col items-center justify-center gap-3 bg-[radial-gradient(1200px_600px_at_50%_-10%,rgba(59,130,246,0.08),#0f172a_60%)] } 
  .spinner { @apply w-9 h-9 rounded-full border-2 border-blue-500/20; border-top-color: rgb(59 130 246); animation: spin 1s linear infinite; }

  /* Cursor */
  .custom-cursor { @apply fixed w-2.5 h-2.5 bg-blue-500/50 rounded-full pointer-events-none -translate-x-1/2 -translate-y-1/2 z-[9999] transition-transform; }
  .custom-cursor.click { @apply scale-125; }

  /* Background/Particles */
  .background { @apply fixed inset-0 -z-10 overflow-hidden; }
  .particle { @apply absolute rounded-full bg-blue-500/60 shadow-md cursor-pointer transition-opacity; animation: float 18s linear infinite; box-shadow: 0 0 8px rgba(59,130,246,.8); }
  .particle.pop { @apply opacity-0; }

  /* Hero */
  .hero { @apply mt-8 mb-4 text-center; }
  .hero-icon { @apply w-16 h-16 mx-auto mb-2 grid place-items-center rounded-full; background: radial-gradient(closest-side, rgba(59,130,246,.3), rgba(59,130,246,.05)); }
  .hero-title { @apply text-2xl font-extrabold text-slate-200; }
  .hero-subtitle { @apply text-[13px] text-slate-400 mt-1; }

  /* Form container (glass) */
  .glass { @apply bg-slate-900/40 backdrop-blur-md border border-blue-500/30 shadow-lg rounded-xl px-7 py-9 max-w-xl w-full; }

  /* Inputs/Selects */
  .form-container { @apply flex flex-col gap-4; }
  .form-container label { @apply text-slate-200 text-sm font-medium; }
  .form-container input[type="text"], .form-container select { @apply px-3 py-2 rounded-lg border border-blue-400/60 bg-slate-800/40 text-slate-200 text-sm transition-all outline-none focus:border-blue-500 focus:shadow; }

  /* Input with icon */
  .input-group { @apply relative; }
  .input-icon { @apply absolute start-2 top-1/2 -translate-y-1/2 opacity-70; }
  .input-icon { width: 18px; height: 18px; }
  .input-group input { @apply ps-9; }

  /* Custom select arrow */
  .custom-select { @apply relative; }
  .custom-select::after { content: 'â†“'; @apply absolute end-2 top-1/2 -translate-y-1/2 text-slate-200 text-xs pointer-events-none; }

  /* Check chips */
  .chips { @apply grid grid-cols-2 gap-2.5; }
  .chip { @apply flex items-center gap-2 px-3 py-2 rounded-xl border border-blue-400/40 bg-slate-800/40 text-slate-200 cursor-pointer; }
  .chip input { @apply w-4 h-4; }
  .symbols-wrap { @apply mt-2; }
  .symbols-title { @apply text-xs text-slate-400 mb-1.5; }
  .symbols-inline { @apply text-xs text-slate-300 leading-7; }

  /* Buttons */
  .btn { @apply px-3 py-2 rounded-lg border-0 text-white text-sm bg-gradient-to-tr from-blue-500 to-blue-600 hover:brightness-110 hover:shadow transition; }

  /* Range */
  .range-row { @apply flex items-center gap-2.5; }
  #lengthRange { @apply w-full h-1.5 rounded-full outline-none; background: linear-gradient(90deg, #22c55e 0%, #f59e0b 50%, #ef4444 100%); }
  #lengthRange::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; border-radius: 9999px; background: #fff; border: 2px solid #3b82f6; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
  .length-value { @apply min-w-9 text-center text-slate-200 font-semibold bg-slate-800/50 border border-blue-400/40 px-2 py-1 rounded-lg; }
  .range-meta { @apply flex items-center justify-between mt-1.5; }
  .range-max,.range-min { @apply text-xs text-slate-500; }

  /* Strength badge */
  .strength-badge { @apply mt-2 text-xs text-white inline-block px-2 py-1 rounded-full border; }
  .strength-weak { @apply bg-red-500 border-red-500/60; }
  .strength-medium { @apply bg-amber-500 border-amber-500/60; }
  .strength-strong { @apply bg-emerald-500 border-emerald-500/60; }

  /* History icon */
  .history-icon { @apply fixed top-4 left-4 w-6 h-6 cursor-pointer; animation: pulse 2s infinite; }

  /* Modals */
  .modal { @apply fixed inset-0 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center z-[1000]; }
  .modal-content { @apply bg-slate-900/60 backdrop-blur-xl border border-blue-400/30 shadow-2xl rounded-2xl p-7 max-w-lg w-full text-slate-100; }
  .modal-content h2 { @apply text-lg font-semibold mb-3 text-slate-100; }
  #generatedPassword { @apply bg-slate-800/60 border border-blue-400/40 rounded-xl px-4 py-3 text-slate-100 text-lg tracking-wider font-mono break-words text-center; }
  #modalMeta { @apply mt-2 text-xs sm:text-sm text-slate-300 text-center; }
  .modal-buttons { @apply flex gap-2 mt-4; }
  #saveBtn { @apply bg-emerald-600 hover:bg-emerald-500; }
  #copyBtn { @apply bg-blue-600 hover:bg-blue-500; }
  #regenerateBtn { @apply bg-indigo-600 hover:bg-indigo-500; }
  #closeModalBtn { @apply bg-red-600 hover:bg-red-500; }

  .history-table { @apply w-full border-collapse text-slate-200 text-xs; }
  .history-table th, .history-table td { @apply p-2 text-right border-b border-blue-500/20; }
  .history-table th { @apply font-semibold; }
  .history-icon-btn { @apply inline-grid place-items-center w-7 h-7 cursor-pointer bg-slate-900/40 border border-blue-500/25 rounded-lg; }

  /* Toasts */
  .toast-container { @apply fixed bottom-4 right-4 flex flex-col gap-1.5 z-[1500]; }
  .toast { @apply min-w-[180px] max-w-[260px] bg-slate-800/70 border border-blue-500/30 shadow-lg backdrop-blur-md text-slate-200 text-xs px-2.5 py-2 rounded-md flex items-center gap-1.5; animation: slideIn .2s ease-out; }
  .toast.success { @apply border-emerald-500/50; }
  .toast.warning { @apply border-amber-500/50; }
  .toast.error { @apply border-red-500/50; }
  .toast .icon { width: 14px; height: 14px; flex: none; }

  /* Footer */
  footer { @apply fixed bottom-4 w-full text-center text-slate-200 text-xs opacity-70; }

  /* Utilities */
  /* Use Tailwind's built-in `hidden` utility directly in markup; no redefinition here. */
}

@keyframes spin { to { transform: rotate(360deg); } }
@keyframes float {
  0% { transform: translate(0, 0); opacity: .6; }
  50% { opacity: .4; }
  100% { transform: translate(var(--tx), var(--ty)); opacity: .6; }
}
@keyframes slideIn { from { transform: translateY(8px); opacity: 0 } to { transform: translateY(0); opacity: 1 } }
@keyframes pulse { 0% { transform: scale(1); opacity:.8 } 50% { transform: scale(1.2); opacity:1 } 100% { transform: scale(1); opacity:.8 } }